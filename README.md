# HSE Bank — модуль «Учёт финансов»

## Описание проекта
Консольное приложение для управления личными финансами: ведение счетов, категорий и операций, аналитика расходов и доходов, импорт и экспорт данных в разные форматы.  
Разработано в учебных целях для демонстрации применения принципов **SOLID**, **GRASP** и шаблонов проектирования **GoF**.

---

## Основной функционал
- Создание, изменение и удаление:
  - банковских счетов;
  - категорий доходов и расходов;
  - операций (доходов и расходов).
- Аналитика:
  - расчёт разницы между доходами и расходами за период;
  - группировка по категориям.
- Импорт и экспорт данных:
  - поддерживаются форматы CSV, JSON, YAML.
- Управление данными:
  - пересчёт балансов на основе операций.
- Статистика:
  - измерение времени выполнения сценариев и запись метрик в CSV.

---

## Используемые принципы SOLID и GRASP
| Принцип | Реализация |
|----------|-------------|
| **SRP (Single Responsibility)** | Каждая команда, фасад и сервис отвечает за одну задачу (например, `CreateOperationHandler`, `AnalyticsService`). |
| **OCP (Open/Closed)** | Новые форматы импорта/экспорта добавляются без изменения существующего кода. |
| **LSP (Liskov Substitution)** | Все репозитории реализуют общий интерфейс `IRepository`. |
| **ISP (Interface Segregation)** | Узкие интерфейсы `Recorder`, `ExportVisitor`, `IRepository`. |
| **DIP (Dependency Inversion)** | Классы зависят от абстракций (`IRepository`, `Recorder`), а конкретные реализации задаются через DI-контейнер. |
| **High Cohesion / Low Coupling** | Чёткое разделение доменной, прикладной и инфраструктурной логики, минимальные зависимости. |

---

## Реализованные шаблоны GoF
| Категория | Паттерн | Реализация |
|------------|----------|-------------|
| **Порождающие** | **Фабрика (Factory)** | `EntityFactory` и `importer_for` создают доменные объекты и импортёры. |
| **Структурные** | **Фасад (Facade)** | `AccountFacade`, `CategoryFacade`, `OperationFacade`, `AnalyticsFacade`, `ImportFacade`, `ExportFacade`. |
|  | **Декоратор (Decorator)** | Функция `timed` измеряет время выполнения команд, оборачивая обработчики. |
|  | **Компоновщик (Composite)** | `CompositeRecorder` объединяет несколько `Recorder` (CSV и консольный). |
| **Поведенческие** | **Команда (Command)** | Каждая операция пользователя оформлена как команда с обработчиком (`CreateAccount`, `RenameCategory` и др.). |
|  | **Шаблонный метод (Template Method)** | `BaseImporter` реализует общий процесс импорта, конкретные шаги переопределяются в `CsvImporter`, `JsonImporter`, `YamlImporter`. |
|  | **Посетитель (Visitor)** | `ExportVisitor` и его реализации (`CsvExportVisitor`, `JsonExportVisitor`, `YamlExportVisitor`). |
|  | **Цепочка обязанностей (Chain of Responsibility)** | `CsvResolver → JsonResolver → YamlResolver` выбирают импортёр в зависимости от расширения файла. |

Всего реализовано 8 шаблонов проектирования.

---

## Используемые технологии
- Python 3.11+
- dependency-injector
- PyYAML

---

## Инструкция по запуску
1. Клонировать проект и установить зависимости:
   pip install -r requirements.txt
